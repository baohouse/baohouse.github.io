(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1064:function(e,t,n){var r=n(79),o=n(80),i="[object Number]";e.exports=function(e){return"number"==typeof e||o(e)&&r(e)==i}},1065:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":
/*!******************************!*\
  !*** ./src/react-webcam.tsx ***!
  \******************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r,o=n(/*! react */"react"),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},c=function(e){function t(t){var n=e.call(this,t)||this;return n.ctx=null,n.state={hasUserMedia:!1},n}return i(t,e),t.prototype.componentDidMount=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia){var e=this.state;t.mountedInstances.push(this),e.hasUserMedia||t.userMediaRequested||this.requestUserMedia()}},t.prototype.componentDidUpdate=function(e){var t=this.props;JSON.stringify(e.audioConstraints)===JSON.stringify(t.audioConstraints)&&JSON.stringify(e.videoConstraints)===JSON.stringify(t.videoConstraints)||this.requestUserMedia()},t.prototype.componentWillUnmount=function(){var e=this.state,n=t.mountedInstances.indexOf(this);t.mountedInstances.splice(n,1),t.userMediaRequested=!1,0===t.mountedInstances.length&&e.hasUserMedia&&(this.stream.getVideoTracks&&this.stream.getAudioTracks?(this.stream.getVideoTracks().map((function(e){return e.stop()})),this.stream.getAudioTracks().map((function(e){return e.stop()}))):this.stream.stop(),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(){var e=this.state,t=this.props;if(!e.hasUserMedia)return null;var n=this.getCanvas();return n&&n.toDataURL(t.screenshotFormat,t.screenshotQuality)},t.prototype.getCanvas=function(){var e=this.state,t=this.props;if(!this.video)return null;if(!e.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var n=document.createElement("canvas"),r=this.video.videoWidth/this.video.videoHeight,o=t.minScreenshotWidth||this.video.clientWidth,i=o/r;t.minScreenshotHeight&&i<t.minScreenshotHeight&&(o=(i=t.minScreenshotHeight)*r),n.width=o,n.height=i,this.canvas=n,this.ctx=n.getContext("2d")}var a=this.ctx,s=this.canvas;return a&&(t.mirrored?(a.translate(s.width,0),a.scale(-1,1)):(a.translate(0,0),a.scale(1,1)),a.imageSmoothingEnabled=t.imageSmoothing,a.drawImage(this.video,0,0,s.width,s.height)),s},t.prototype.requestUserMedia=function(){var e=this.props;navigator.getUserMedia=navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var n=function(n,r){var o={video:void 0===r||r};e.audio&&(o.audio=void 0===n||n),navigator.mediaDevices.getUserMedia(o).then((function(e){t.mountedInstances.forEach((function(t){return t.handleUserMedia(null,e)}))})).catch((function(e){t.mountedInstances.forEach((function(t){return t.handleUserMedia(e)}))}))};if("mediaDevices"in navigator)n(e.audioConstraints,e.videoConstraints);else{var r=function(e){return{optional:[{sourceId:e}]}},o=function(e){var t=e.deviceId;return"string"==typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"==typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(t){var i=null,a=null;t.forEach((function(e){"audio"===e.kind?i=e.id:"video"===e.kind&&(a=e.id)}));var s=o(e.audioConstraints);s&&(i=s);var c=o(e.videoConstraints);c&&(a=c),n(r(i),r(a))}))}t.userMediaRequested=!0},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(e){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia()},t.prototype.render=function(){var e=this,t=this.state,n=this.props,r=n.audio,i=(n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),c=n.style,u=void 0===c?{}:c,l=s(n,["audio","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style"]),d=i?a(a({},u),{transform:(u.transform||"")+" scaleX(-1)"}):u;return o.createElement("video",a({autoPlay:!0,src:t.src,muted:r,playsInline:!0,ref:function(t){e.video=t},style:d},l))},t.defaultProps={audio:!0,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t.mountedInstances=[],t.userMediaRequested=!1,t}(o.Component);t.default=c},react:
/*!**************************************************************************************!*\
  !*** external {"root":"React","commonjs2":"react","commonjs":"react","amd":"react"} ***!
  \**************************************************************************************/
/*! no static exports found */function(t,n){t.exports=e}}).default},e.exports=r(n(0))},1076:function(e,t,n){"use strict";n.r(t);n(988);var r=n(234),o=n.n(r),i=(n(993),n(1e3)),a=n.n(i),s=(n(995),n(996)),c=n.n(s),u=(n(987),n(990)),l=n.n(u),d=(n(978),n(980)),p=n.n(d),f=n(1064),h=n.n(f),m=n(4),g=n(235),v=n(0),y=n.n(v),b=n(1065),x=n.n(b),M=n(48);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O,S,U,E,j,C,k,R,_=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},P=(O=function(e,t){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),I=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":w(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},D=M.a.img(S||(S=_(["\n  width: 480px;\n  height: 360px;\n  background-color: lightgray;\n  margin-bottom: 1px;\n  margin-left: 1px;\n"],["\n  width: 480px;\n  height: 360px;\n  background-color: lightgray;\n  margin-bottom: 1px;\n  margin-left: 1px;\n"]))),F=M.a.div(U||(U=_(["\n  position: absolute;\n  top: 1px;\n  left: 2px;\n"],["\n  position: absolute;\n  top: 1px;\n  left: 2px;\n"]))),T=M.a.div(E||(E=_(["\n  position: absolute;\n  border: 2px solid blue;\n"],["\n  position: absolute;\n  border: 2px solid blue;\n"]))),q=M.a.div(j||(j=_(["\n  font-size: 72px;\n  line-height: 72px;\n  display: block;\n"],["\n  font-size: 72px;\n  line-height: 72px;\n  display: block;\n"]))),H=M.a.div(C||(C=_(["\n  margin-bottom: 1em;\n"],["\n  margin-bottom: 1em;\n"]))),A=M.a.div(k||(k=_(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 480px;\n  height: 360px;\n  margin: 0 0 0 auto;\n  background-color: white;\n  text-align: center;\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 480px;\n  height: 360px;\n  margin: 0 0 0 auto;\n  background-color: white;\n  text-align: center;\n"]))),G=M.a.div(R||(R=_(["\n  video {\n    display: block;\n    background-color: lightgray;\n    margin: 0 0 1px auto;\n  }\n"],["\n  video {\n    display: block;\n    background-color: lightgray;\n    margin: 0 0 1px auto;\n  }\n"]))),J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.capture=function(e){return function(){var n=t.webcam.getScreenshot();Object(m.m)((function(){1===e?t.props.faceCognitionStore.photo1={data:n,faceId:""}:t.props.faceCognitionStore.photo2={data:n,faceId:""}}))}},t.getMatchConfidence=function(){t.props.faceCognitionStore.getFaceMatchConfidence()},t}return P(t,e),t.prototype.render=function(){var e=this,t=this.props.faceCognitionStore,n=t.isLoading,r=t.matchConfidence,i=t.photo1,s=t.photo2,u=n?y.a.createElement(p.a,{size:"large"}):y.a.createElement("div",null,y.a.createElement(q,null,this.formatPercentage(r)),y.a.createElement(H,null,"match confidence"),y.a.createElement("div",null,y.a.createElement(l.a,{onClick:this.getMatchConfidence},"Update")));return y.a.createElement(y.a.Fragment,null,y.a.createElement(c.a,null,y.a.createElement(a.a,{span:12},y.a.createElement(G,null,y.a.createElement(x.a,{audio:!1,height:360,ref:function(t){return e.webcam=t},screenshotFormat:"image/png",width:480}))),y.a.createElement(a.a,{span:12},i.faceRectangle&&y.a.createElement(T,{style:{height:i.faceRectangle.height,left:i.faceRectangle.left,top:i.faceRectangle.top,width:i.faceRectangle.width}}),y.a.createElement(D,{src:i.data}),y.a.createElement(F,null,y.a.createElement(l.a,{onClick:this.capture(1)},y.a.createElement(o.a,{type:"pushpin"}))))),y.a.createElement(c.a,null,y.a.createElement(a.a,{span:12},y.a.createElement(A,null,u)),y.a.createElement(a.a,{span:12},s.faceRectangle&&y.a.createElement(T,{style:{height:s.faceRectangle.height,left:s.faceRectangle.left,top:s.faceRectangle.top,width:s.faceRectangle.width}}),y.a.createElement(D,{src:s.data}),y.a.createElement(F,null,y.a.createElement(l.a,{onClick:this.capture(2)},y.a.createElement(o.a,{type:"pushpin"}))))))},t.prototype.formatPercentage=function(e){return h()(e)?(100*e).toFixed(0)+"%":"TBD"},I([m.d],t.prototype,"capture",void 0),t=I([g.a],t)}(y.a.Component);t.default=J}}]);