(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{672:function(e,t,r){var n;n=function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=r(9),i=o(a),s=o(r(8)),u=r(10);var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this),this.state={hasUserMedia:!1}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,null,[{key:"defaultProps",value:{audio:!0,height:480,width:640,screenshotFormat:"image/webp",onUserMedia:function(){}},enumerable:!0},{key:"propTypes",value:{audio:s.default.bool,muted:s.default.bool,onUserMedia:s.default.func,height:s.default.oneOfType([s.default.number,s.default.string]),width:s.default.oneOfType([s.default.number,s.default.string]),screenshotFormat:s.default.oneOf(["image/webp","image/png","image/jpeg"]),style:s.default.object,className:s.default.string},enumerable:!0},{key:"mountedInstances",value:[],enumerable:!0},{key:"userMediaRequested",value:!1,enumerable:!0}]),t.prototype.componentDidMount=function(){(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)&&(t.mountedInstances.push(this),this.state.hasUserMedia||t.userMediaRequested||this.requestUserMedia())},t.prototype.requestUserMedia=function(){var e=this;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var r=function(r,n){var o={video:{optional:[{sourceId:n}]}};e.props.audio&&(o.audio={optional:[{sourceId:r}]}),navigator.getUserMedia(o,function(e){t.mountedInstances.forEach(function(t){return t.handleUserMedia(null,e)})},function(e){t.mountedInstances.forEach(function(t){return t.handleUserMedia(e)})})};this.props.audioSource&&this.props.videoSource?r(this.props.audioSource,this.props.videoSource):"mediaDevices"in navigator?navigator.mediaDevices.enumerateDevices().then(function(e){var t=null,n=null;e.forEach(function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(n=e.id)}),r(t,n)}).catch(function(e){console.log(e.name+": "+e.message)}):MediaStreamTrack.getSources(function(e){var t=null,n=null;e.forEach(function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(n=e.id)}),r(t,n)}),t.userMediaRequested=!0},t.prototype.handleUserMedia=function(e,t){if(e)this.setState({hasUserMedia:!1});else{var r=window.URL.createObjectURL(t);this.stream=t,this.setState({hasUserMedia:!0,src:r}),this.props.onUserMedia()}},t.prototype.componentWillUnmount=function(){var e=t.mountedInstances.indexOf(this);if(t.mountedInstances.splice(e,1),0===t.mountedInstances.length&&this.state.hasUserMedia){if(this.stream.stop)this.stream.stop();else{if(this.stream.getVideoTracks){var r=this.stream.getVideoTracks(),n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}a.stop()}}if(this.stream.getAudioTracks){var i=this.stream.getAudioTracks(),s=Array.isArray(i),u=0;for(i=s?i:i[Symbol.iterator]();;){var c;if(s){if(u>=i.length)break;c=i[u++]}else{if((u=i.next()).done)break;c=u.value}c.stop()}}}t.userMediaRequested=!1,window.URL.revokeObjectURL(this.state.src)}},t.prototype.getScreenshot=function(){return this.state.hasUserMedia?this.getCanvas().toDataURL(this.props.screenshotFormat):null},t.prototype.getCanvas=function(){if(!this.state.hasUserMedia)return null;var e=u.findDOMNode(this);if(!this.ctx){var t=document.createElement("canvas"),r=e.videoWidth/e.videoHeight;t.width=e.clientWidth,t.height=e.clientWidth/r,this.canvas=t,this.ctx=t.getContext("2d")}var n=this.ctx,o=this.canvas;return n.drawImage(e,0,0,o.width,o.height),o},t.prototype.render=function(){return i.default.createElement("video",{autoPlay:!0,width:this.props.width,height:this.props.height,src:this.state.src,muted:this.props.muted,className:this.props.className,style:this.props.style})},t}(a.Component);t.default=c,e.exports=t.default},function(e,t){"use strict";function r(e){return function(){return e}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){"use strict";var n=function(e){};n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")},e.exports=function(e,t,r,o,a,i,s,u){if(n(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,o,a,i,s,u],l=0;(c=new Error(t.replace(/%s/g,function(){return f[l++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,r){"use strict";var n=r(1);n=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];(function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0,a="Warning: "+e.replace(/%s/g,function(){return r[o++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(e){}}).apply(void 0,[t].concat(n))}},e.exports=n},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";var n=r(2),o=r(3),a=r(4),i={};e.exports=function(e,t,r,s,u){for(var c in e)if(e.hasOwnProperty(c)){var f;try{n("function"==typeof e[c],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",s||"React class",r,c),f=e[c](t,c,s,r,null,a)}catch(e){f=e}if(o(!f||f instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",r,c,typeof f),f instanceof Error&&!(f.message in i)){i[f.message]=!0;var l=u?u():"";o(!1,"Failed %s type: %s%s",r,f.message,null!=l?l:"")}}}},function(e,t,r){"use strict";var n=r(1),o=r(2);e.exports=function(){function e(){o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t,r){"use strict";var n=r(1),o=r(2),a=r(3),i=r(4),s=r(5);e.exports=function(e,t){var r="function"==typeof Symbol&&Symbol.iterator,u="@@iterator";var c="<<anonymous>>",f={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:d(n.thatReturnsNull),arrayOf:function(e){return d(function(t,r,n,o,a){if("function"!=typeof e)return new p("Property `"+a+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=t[r];if(!Array.isArray(s)){var u=v(s);return new p("Invalid "+o+" `"+a+"` of type `"+u+"` supplied to `"+n+"`, expected an array.")}for(var c=0;c<s.length;c++){var f=e(s,c,n,o,a+"["+c+"]",i);if(f instanceof Error)return f}return null})},element:function(){return d(function(t,r,n,o,a){var i=t[r];if(!e(i)){var s=v(i);return new p("Invalid "+o+" `"+a+"` of type `"+s+"` supplied to `"+n+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(e){return d(function(t,r,n,o,a){if(!(t[r]instanceof e)){var i=e.name||c,s=function(e){if(!e.constructor||!e.constructor.name)return c;return e.constructor.name}(t[r]);return new p("Invalid "+o+" `"+a+"` of type `"+s+"` supplied to `"+n+"`, expected instance of `"+i+"`.")}return null})},node:function(){return d(function(e,t,r,n,o){if(!y(e[t]))return new p("Invalid "+n+" `"+o+"` supplied to `"+r+"`, expected a ReactNode.");return null})}(),objectOf:function(e){return d(function(t,r,n,o,a){if("function"!=typeof e)return new p("Property `"+a+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var s=t[r],u=v(s);if("object"!==u)return new p("Invalid "+o+" `"+a+"` of type `"+u+"` supplied to `"+n+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var f=e(s,c,n,o,a+"."+c,i);if(f instanceof Error)return f}return null})},oneOf:function(e){if(!Array.isArray(e))return a(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull;return d(function(t,r,n,o,a){for(var i=t[r],s=0;s<e.length;s++)if(l(i,e[s]))return null;var u=JSON.stringify(e);return new p("Invalid "+o+" `"+a+"` of value `"+i+"` supplied to `"+n+"`, expected one of "+u+".")})},oneOfType:function(e){if(!Array.isArray(e))return a(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull;return d(function(t,r,n,o,a){for(var s=0;s<e.length;s++){var u=e[s];if(null==u(t,r,n,o,a,i))return null}return new p("Invalid "+o+" `"+a+"` supplied to `"+n+"`.")})},shape:function(e){return d(function(t,r,n,o,a){var s=t[r],u=v(s);if("object"!==u)return new p("Invalid "+o+" `"+a+"` of type `"+u+"` supplied to `"+n+"`, expected `object`.");for(var c in e){var f=e[c];if(f){var l=f(s,c,n,o,a+"."+c,i);if(l)return l}}return null})}};function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){this.message=e,this.stack=""}function d(e){var r={},n=0;function s(s,u,f,l,d,h,y){if(l=l||c,h=h||f,y!==i)if(t)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!=typeof console){var v=l+":"+f;!r[v]&&n<3&&(a(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,l),r[v]=!0,n++)}return null==u[f]?s?null===u[f]?new p("The "+d+" `"+h+"` is marked as required in `"+l+"`, but its value is `null`."):new p("The "+d+" `"+h+"` is marked as required in `"+l+"`, but its value is `undefined`."):null:e(u,f,l,d,h)}var u=s.bind(null,!1);return u.isRequired=s.bind(null,!0),u}function h(e){return d(function(t,r,n,o,a,i){var s=t[r];return v(s)!==e?new p("Invalid "+o+" `"+a+"` of type `"+function(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(s)+"` supplied to `"+n+"`, expected `"+e+"`."):null})}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||e(t))return!0;var n=function(e){var t=e&&(r&&e[r]||e[u]);if("function"==typeof t)return t}(t);if(!n)return!1;var o,a=n.call(t);if(n!==t.entries){for(;!(o=a.next()).done;)if(!y(o.value))return!1}else for(;!(o=a.next()).done;){var i=o.value;if(i&&!y(i[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}return p.prototype=Error.prototype,f.checkPropTypes=s,f.PropTypes=f,f}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r(7)(function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},!0)},function(t,r){t.exports=e},function(e,r){e.exports=t}])},e.exports=n(r(1),r(7))}}]);